/*
	Nepali Calendar jQuery plugin by Mahesh Maharjan 2015
	http://www.mahesh247.com.np
*/
(function(e){var l,f="";e_diff=1944;l={2E3:[2E3,30,32,31,32,31,30,30,30,29,30,29,31],2001:[2001,31,31,32,31,31,31,30,29,30,29,30,30],2002:[2002,31,31,32,32,31,30,30,29,30,29,30,30],2003:[2003,31,32,31,32,31,30,30,30,29,29,30,31],2004:[2004,30,32,31,32,31,30,30,30,29,30,29,31],2005:[2005,31,31,32,31,31,31,30,29,30,29,30,30],2006:[2006,31,31,32,32,31,30,30,29,30,29,30,30],2007:[2007,31,32,31,32,31,30,30,30,29,29,30,31],2008:[2008,31,31,31,32,31,31,29,30,30,29,29,31],2009:[2009,31,31,32,31,31,31,30, 29,30,29,30,30],2010:[2010,31,31,32,32,31,30,30,29,30,29,30,30],2011:[2011,31,32,31,32,31,30,30,30,29,29,30,31],2012:[2012,31,31,31,32,31,31,29,30,30,29,30,30],2013:[2013,31,31,32,31,31,31,30,29,30,29,30,30],2014:[2014,31,31,32,32,31,30,30,29,30,29,30,30],2015:[2015,31,32,31,32,31,30,30,30,29,29,30,31],2016:[2016,31,31,31,32,31,31,29,30,30,29,30,30],2017:[2017,31,31,32,31,31,31,30,29,30,29,30,30],2018:[2018,31,32,31,32,31,30,30,29,30,29,30,30],2019:[2019,31,32,31,32,31,30,30,30,29,30,29,31],2020:[2020, 31,31,31,32,31,31,30,29,30,29,30,30],2021:[2021,31,31,32,31,31,31,30,29,30,29,30,30],2022:[2022,31,32,31,32,31,30,30,30,29,29,30,30],2023:[2023,31,32,31,32,31,30,30,30,29,30,29,31],2024:[2024,31,31,31,32,31,31,30,29,30,29,30,30],2025:[2025,31,31,32,31,31,31,30,29,30,29,30,30],2026:[2026,31,32,31,32,31,30,30,30,29,29,30,31],2027:[2027,30,32,31,32,31,30,30,30,29,30,29,31],2028:[2028,31,31,32,31,31,31,30,29,30,29,30,30],2029:[2029,31,31,32,31,32,30,30,29,30,29,30,30],2030:[2030,31,32,31,32,31,30,30, 30,29,29,30,31],2031:[2031,30,32,31,32,31,30,30,30,29,30,29,31],2032:[2032,31,31,32,31,31,31,30,29,30,29,30,30],2033:[2033,31,31,32,32,31,30,30,29,30,29,30,30],2034:[2034,31,32,31,32,31,30,30,30,29,29,30,31],2035:[2035,30,32,31,32,31,31,29,30,30,29,29,31],2036:[2036,31,31,32,31,31,31,30,29,30,29,30,30],2037:[2037,31,31,32,32,31,30,30,29,30,29,30,30],2038:[2038,31,32,31,32,31,30,30,30,29,29,30,31],2039:[2039,31,31,31,32,31,31,29,30,30,29,30,30],2040:[2040,31,31,32,31,31,31,30,29,30,29,30,30],2041:[2041, 31,31,32,32,31,30,30,29,30,29,30,30],2042:[2042,31,32,31,32,31,30,30,30,29,29,30,31],2043:[2043,31,31,31,32,31,31,29,30,30,29,30,30],2044:[2044,31,31,32,31,31,31,30,29,30,29,30,30],2045:[2045,31,32,31,32,31,30,30,29,30,29,30,30],2046:[2046,31,32,31,32,31,30,30,30,29,29,30,31],2047:[2047,31,31,31,32,31,31,30,29,30,29,30,30],2048:[2048,31,31,32,31,31,31,30,29,30,29,30,30],2049:[2049,31,32,31,32,31,30,30,30,29,29,30,30],2050:[2050,31,32,31,32,31,30,30,30,29,30,29,31],2051:[2051,31,31,31,32,31,31,30, 29,30,29,30,30],2052:[2052,31,31,32,31,31,31,30,29,30,29,30,30],2053:[2053,31,32,31,32,31,30,30,30,29,29,30,30],2054:[2054,31,32,31,32,31,30,30,30,29,30,29,31],2055:[2055,31,31,32,31,31,31,30,29,30,29,30,30],2056:[2056,31,31,32,31,32,30,30,29,30,29,30,30],2057:[2057,31,32,31,32,31,30,30,30,29,29,30,31],2058:[2058,30,32,31,32,31,30,30,30,29,30,29,31],2059:[2059,31,31,32,31,31,31,30,29,30,29,30,30],2060:[2060,31,31,32,32,31,30,30,29,30,29,30,30],2061:[2061,31,32,31,32,31,30,30,30,29,29,30,31],2062:[2062, 30,32,31,32,31,31,29,30,29,30,29,31],2063:[2063,31,31,32,31,31,31,30,29,30,29,30,30],2064:[2064,31,31,32,32,31,30,30,29,30,29,30,30],2065:[2065,31,32,31,32,31,30,30,30,29,29,30,31],2066:[2066,31,31,31,32,31,31,29,30,30,29,29,31],2067:[2067,31,31,32,31,31,31,30,29,30,29,30,30],2068:[2068,31,31,32,32,31,30,30,29,30,29,30,30],2069:[2069,31,32,31,32,31,30,30,30,29,29,30,31],2070:[2070,31,31,31,32,31,31,29,30,30,29,30,30],2071:[2071,31,31,32,31,31,31,30,29,30,29,30,30],2072:[2072,31,32,31,32,31,30,30, 29,30,29,30,30],2073:[2073,31,32,31,32,31,30,30,30,29,29,30,31],2074:[2074,31,31,31,32,31,31,30,29,30,29,30,30],2075:[2075,31,31,32,31,31,31,30,29,30,29,30,30],2076:[2076,31,32,31,32,31,30,30,30,29,29,30,30],2077:[2077,31,32,31,32,31,30,30,30,29,30,29,31],2078:[2078,31,31,31,32,31,31,30,29,30,29,30,30],2079:[2079,31,31,32,31,31,31,30,29,30,29,30,30],2080:[2080,31,32,31,32,31,30,30,30,29,29,30,30],2081:[2081,31,31,32,32,31,30,30,30,29,30,30,30],2082:[2082,30,32,31,32,31,30,30,30,29,30,30,30],2083:[2083, 31,31,32,31,31,30,30,30,29,30,30,30],2084:[2084,31,31,32,31,31,30,30,30,29,30,30,30],2085:[2085,31,32,31,32,30,31,30,30,29,30,30,30],2086:[2086,30,32,31,32,31,30,30,30,29,30,30,30],2087:[2087,31,31,32,31,31,31,30,30,29,30,30,30],2088:[2088,30,31,32,32,30,31,30,30,29,30,30,30],2089:[2089,30,32,31,32,31,30,30,30,29,30,30,30],2090:[2090,30,32,31,32,31,30,30,30,29,30,30,30]};var m=[31,28,31,30,31,30,31,31,30,31,30,31],n=[31,29,31,30,31,30,31,31,30,31,30,31];e.Calendar=function(a,b){this.$el=e(b);this._init(a); e_eq_date="1-1-1944";n_eq_date="17-9-2000"};e.Calendar.defaults={weeks:"\u0906\u0907\u0924\u092c\u093e\u0930 ;\u0938\u094b\u092e\u092c\u093e\u0930;\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930;\u092c\u0941\u0927\u092c\u093e\u0930;\u092c\u093f\u0939\u0940\u092c\u093e\u0930;\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930;\u0936\u0928\u093f\u092c\u093e\u0930".split(";"),weekabbrs:"\u0906\u0907\u0924\u092c\u093e\u0930 ;\u0938\u094b\u092e\u092c\u093e\u0930;\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930;\u092c\u0941\u0927\u092c\u093e\u0930;\u092c\u093f\u0939\u0940\u092c\u093e\u0930;\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930;\u0936\u0928\u093f\u092c\u093e\u0930".split(";"), months:" \u092c\u0948\u0936\u093e\u0916 \u091c\u0947\u0937\u094d\u0920 \u0905\u0938\u093e\u0930 \u0936\u094d\u0930\u0935\u0923 \u092d\u093e\u0926\u094d\u0930 \u0905\u0938\u094b\u091c \u0915\u093e\u0930\u094d\u0924\u093f\u0915 \u092e\u0919\u094d\u0938\u093f\u0930 \u092a\u094c\u0937 \u092e\u093e\u0918 \u092b\u093e\u0917\u0941\u0928 \u091a\u0948\u0924\u094d\u0930".split(" "),displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:0,nNum:"\u0966\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f".split(""), onDayClick:function(a,b,d){return!1}};e.Calendar.prototype={_init:function(a){this.options=e.extend(!0,{},e.Calendar.defaults,a);this.today=new Date;e_month=this.today.getMonth()+1;e_year=this.today.getFullYear();e_date=this.today.getDate();count_days=this._count_ad_days(e_year,e_month,e_date);today_nep=this._get_nepali_date(count_days);nep_date=this._get_nepali_date(count_days);this.month=isNaN(this.options.month)||null==this.options.month?nep_date[1]:this.options.month-1;this.year=isNaN(this.options.year)|| null==this.options.year?nep_date[0]:this.options.year;this.caldata=this.options.caldata||{};this._generateTemplate();this._initEvents()},_isLeap:function(a){return 0==a%4?!0:!1},_initEvents:function(){var a=this;this.$el.on("click.calendar","div.fc-row > div",function(){var b=e(this),d=b.index(),c=b.children("div"),d={day:b.children("span.fc-date").text(),month:a.month+1,monthname:a.options.displayMonthAbbr?a.options.monthabbrs[a.month]:a.options.months[a.month],year:a.year,weekday:d+a.options.startIn, weekdayname:a.options.weeks[d+a.options.startIn]};if(d.day)a.options.onDayClick(b,c,d)})},_generateTemplate:function(a){var b=this._getHead(),d=this._getBody(),c;switch(this.rowTotal){case 4:c="fc-four-rows";break;case 5:c="fc-five-rows";break;case 6:c="fc-six-rows"}this.$cal=e('<div class="fc-calendar '+c+'">').append(b,d);this.$el.find("div.fc-calendar").remove().end().append(this.$cal);a&&a.call()},_getHead:function(){for(var a='<div class="fc-head">',b=0;6>=b;b++)var d=b+this.options.startIn, c=6<d?d-6-1:d,a=6==d?a+'<div class="holiday">':a+"<div>",a=a+(this.options.displayWeekAbbr?this.options.weekabbrs[c]:this.options.weeks[c]),a=a+"</div>";return a+"</div>"},_getBody:function(){yr=l[this.year];monthLength=yr[this.month];this.startingDay=""===f?nep_date[4]:f;for(var a='<div class="fc-body"><div class="fc-row">',b=1,d=0;7>d;d++){for(var c=0;6>=c;c++){var h=this.startingDay-this.options.startIn,e=0>h?6+h+1:h,h="",g=this.month===today_nep[1]&&this.year===today_nep[0]&&b===today_nep[2], k="";b<=monthLength&&(0<d||c>=e)?(h+='<span class="fc-date">'+this._engToNepDigit(b)+'</span><span class="fc-weekday">'+this.options.weekabbrs[6<c+this.options.startIn?c+this.options.startIn-6-1:c+this.options.startIn]+"</span>",(e=this.caldata[(10>this.month?"0"+this.month:this.month)+"-"+(10>b?"0"+b:b)])&&(k=e),""!==k&&(h+="<div>"+k+"</div>"),++b):g=!1;g=g?"fc-today ":"";""!==k&&(g+="fc-content");a=6==c?a+(""!==g?'<div class="'+g+'">':'<div class="holiday">'):a+(""!==g?'<div class="'+g+'">':"<div>"); a+=h;a+="</div>"}if(b>monthLength){this.rowTotal=d+1;break}else a+='</div><div class="fc-row">'}return a+"</div></div>"},_getNepaliDate:function(){},_count_ad_days:function(a,b,d){var c=0;for(i=0;i<a-e_diff;i++)if(!0===this._isLeap(e_diff+i))for(j=0;12>j;j++)c+=n[j];else for(j=0;12>j;j++)c+=m[j];for(i=0;i<b-1;i++)c=!0===this._isLeap(a)?c+n[i]:c+m[i];return c+=parseInt(d)},_get_nepali_date:function(a){for(var b=0,d,c=5,e=j=9,f=16,g=2E3;0!=a;){var k=l[g];f++;c++;f>k[j]&&(j++,e++,f=1,d=7==c?0:c);6<c&& (c=0);if(12<e||12<j)g++,e=1,b++,j=1;a--}numDay=c;return[g,e,f,c,d]},_move:function(a,b,d){if("previous"===b)for("month"===a?(this.year=1<this.month?this.year:--this.year,this.month=1<this.month?--this.month:12):"year"===a&&(this.year=--this.year),yr=l[this.year],days=yr[this.month],""===f&&(f=nep_date[4]);0!=days;)0==f&&(f=7),f--,days--;else if("next"===b){yr=l[this.year];days=yr[this.month];for(""===f&&(f=nep_date[4]);0!=days;)f++,7==f&&(f=0),days--;"month"===a?(this.year=12>this.month?this.year: ++this.year,this.month=12>this.month?++this.month:1):"year"===a&&(this.year=++this.year)}this._generateTemplate(d)},_engToNepDigit:function(a){a=""+a;for(var b="",d=0;a.length>d;d++)b+=this.options.nNum[a[d]];return b},getYear:function(){return this.year},getMonth:function(){return this.month},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(a){var b=Math.floor((a+this.startingDay-this.options.startIn)/ 7);a=a+this.startingDay-this.options.startIn-7*b-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(b).children("div").eq(a).children("div")},setData:function(a){a=a||{};e.extend(this.caldata,a);this._generateTemplate()},gotoNow:function(a){f="";this.month=today_nep[1];this.year=today_nep[0];this._generateTemplate(a)},"goto":function(a,b,d){this.month=a;this.year=b;this._generateTemplate(d)},gotoPreviousMonth:function(a){this._move("month","previous",a)},gotoPreviousYear:function(a){this._move("year", "previous",a)},gotoNextMonth:function(a){this._move("month","next",a)},gotoNextYear:function(a){this._move("year","next",a)}};e.fn.myCalendar=function(a){var b=e.data(this,"calendar");this.each(function(){b?b._init():b=e.data(this,"calendar",new e.Calendar(a,this))});return b}})(jQuery);